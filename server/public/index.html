<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Iot-Project</title>
  </head>
  <body>
    <h1>IoT-Projekt 19FS</h1>
    <script
      src="https://unpkg.com/mqtt@2.18.8/dist/mqtt.min.js"
      type="text/javascript"
    ></script>
    <script>
      const urlBroker = "ws://broker.hivemq.com:8000/mqtt";
      var client = mqtt.connect(urlBroker);

      client.on("connect", onConnected);
      client.on("message", onMessage);

      function onConnected() {
        console.log("connected to broker " + urlBroker);
        client.subscribe("silvanknecht:temperatures");
        client.subscribe("silvanknecht:emissions");
      }

      function onMessage(topic, message) {
        console.log("topic: " + topic + ", message: " + message);
      }
    </script>
  </body>
</html>
